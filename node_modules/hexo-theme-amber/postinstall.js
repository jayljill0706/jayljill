const fs = require('fs')
const path = require('path')

const CWD = process.cwd()
const themeDirPath = path.resolve(CWD, 'theme')

if (!fs.existsSync(themeDirPath)) {
  console.warn('[hexo-theme-amber] theme not exist, create it first.')
  fs.mkdirSync(themeDirPath)
}

const thisThemePath = path.resolve(themeDirPath, 'amber')

if (fs.existsSync(thisThemePath)) {
  console.warn('[hexo-theme-amber] theme/amber exist, remove it by default.')
  fs.unlinkSync(thisThemePath)
}

fs.symlinkSync(__dirname, thisThemePath)
